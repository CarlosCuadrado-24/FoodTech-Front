{
	"info": {
		"_postman_id": "foodtech-kitchen-api-v2-2026",
		"name": "FoodTech Kitchen API - Complete Test Suite",
		"description": "Suite completa de tests para FoodTech Kitchen Service.\n\n**Arquitectura:** Hexagonal + Command Pattern + Reactive (Mono)\n**Base URL:** http://localhost:8080\n\n**Features:**\n- ‚úÖ Procesamiento as√≠ncrono de pedidos\n- ‚úÖ Auto-completado de tareas con Mono/Flux\n- ‚úÖ Gesti√≥n de tareas por estaci√≥n\n- ‚úÖ Seguimiento de estado en tiempo real\n- ‚úÖ Tests automatizados E2E\n\n**Ejecuci√≥n recomendada:**\n1. Run \"End-to-End Workflows\" folder para flujo completo\n2. Run \"Negative Tests\" para validar errores\n3. Run collection completa para cobertura total\n\n**Autor:** Carlos Cuadrado\n**Fecha:** Enero 2026\n**Versi√≥n:** 2.0",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "üéØ End-to-End Workflows",
			"item": [
				{
					"name": "E2E - Complete Order Lifecycle",
					"item": [
						{
							"name": "1. Create Order (Mixed Products)",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"// üìä HU-001: Procesar pedido de cocina",
											"pm.test(\"‚úÖ Status 201 - Order created\", function () {",
											"    pm.response.to.have.status(201);",
											"});",
											"",
											"const response = pm.response.json();",
											"",
											"pm.test(\"‚úÖ Response structure is correct\", function () {",
											"    pm.expect(response).to.have.property('tableNumber');",
											"    pm.expect(response).to.have.property('tasksCreated');",
											"    pm.expect(response).to.have.property('message');",
											"});",
											"",
											"pm.test(\"‚úÖ 3 tasks created (BAR + HOT + COLD)\", function () {",
											"    pm.expect(response.tasksCreated).to.eql(3);",
											"});",
											"",
											"pm.test(\"‚úÖ Table number matches\", function () {",
											"    pm.expect(response.tableNumber).to.match(/^[A-Z]\\d+$/);",
											"});",
											"",
											"// üíæ Save for next requests",
											"pm.collectionVariables.set(\"e2e_tableNumber\", response.tableNumber);",
											"console.log(\"üìù Saved table:\", response.tableNumber);"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"// Generate unique table number",
											"const table = \"A\" + Math.floor(Math.random() * 50 + 1);",
											"pm.collectionVariables.set(\"e2e_tableNumber\", table);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"tableNumber\": \"{{e2e_tableNumber}}\",\n    \"products\": [\n        {\"name\": \"Pizza Margherita\", \"type\": \"HOT_DISH\"},\n        {\"name\": \"Coca Cola\", \"type\": \"DRINK\"},\n        {\"name\": \"Sprite\", \"type\": \"DRINK\"},\n        {\"name\": \"Caesar Salad\", \"type\": \"COLD_DISH\"}\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/api/orders",
									"host": ["{{baseUrl}}"],
									"path": ["api", "orders"]
								}
							},
							"response": []
						},
						{
							"name": "2. Get BAR Tasks (Pending)",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"// üìä HU-002: Consultar tareas por estaci√≥n",
											"pm.test(\"‚úÖ Status 200 - Tasks retrieved\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"const tasks = pm.response.json();",
											"",
											"pm.test(\"‚úÖ At least 1 BAR task exists\", function () {",
											"    pm.expect(tasks.length).to.be.above(0);",
											"});",
											"",
											"pm.test(\"‚úÖ All tasks are BAR station\", function () {",
											"    tasks.forEach(task => {",
											"        pm.expect(task.station).to.eql('BAR');",
											"    });",
											"});",
											"",
											"// Find our task by table number",
											"const tableNumber = pm.collectionVariables.get('e2e_tableNumber');",
											"const ourTask = tasks.find(t => t.tableNumber === tableNumber);",
											"",
											"pm.test(\"‚úÖ Task for our table exists\", function () {",
											"    pm.expect(ourTask).to.not.be.undefined;",
											"});",
											"",
											"if (ourTask) {",
											"    pm.test(\"‚úÖ Task status is PENDING\", function () {",
											"        pm.expect(ourTask.status).to.eql('PENDING');",
											"    });",
											"    ",
											"    pm.test(\"‚úÖ Task has 2 drinks (Coca Cola + Sprite)\", function () {",
											"        pm.expect(ourTask.products.length).to.eql(2);",
											"        const productNames = ourTask.products.map(p => p.name);",
											"        pm.expect(productNames).to.include('Coca Cola');",
											"        pm.expect(productNames).to.include('Sprite');",
											"    });",
											"    ",
											"    pm.test(\"‚úÖ All products are DRINK type\", function () {",
											"        ourTask.products.forEach(p => {",
											"            pm.expect(p.type).to.eql('DRINK');",
											"        });",
											"    });",
											"    ",
											"    pm.test(\"‚úÖ Timestamps: createdAt exists, others null\", function () {",
											"        pm.expect(ourTask.createdAt).to.not.be.null;",
											"        pm.expect(ourTask.startedAt).to.be.null;",
											"        pm.expect(ourTask.completedAt).to.be.null;",
											"    });",
											"    ",
											"    // üíæ Save task ID and orderId",
											"    pm.collectionVariables.set('e2e_taskId', ourTask.id);",
											"    pm.collectionVariables.set('e2e_orderId', ourTask.orderId);",
											"    console.log(\"üìù Saved taskId:\", ourTask.id);",
											"    console.log(\"üìù Saved orderId:\", ourTask.orderId);",
											"}"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/api/tasks/station/BAR?status=PENDING",
									"host": ["{{baseUrl}}"],
									"path": ["api", "tasks", "station", "BAR"],
									"query": [
										{"key": "status", "value": "PENDING"}
									]
								}
							},
							"response": []
						},
						{
							"name": "3. Start Task Preparation",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"// üìä HU-003: Iniciar preparaci√≥n (auto-completa con Mono)",
											"pm.test(\"‚úÖ Status 200 - Task started\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"const task = pm.response.json();",
											"",
											"pm.test(\"‚úÖ Status changed to IN_PREPARATION\", function () {",
											"    pm.expect(task.status).to.eql('IN_PREPARATION');",
											"});",
											"",
											"pm.test(\"‚úÖ startedAt timestamp is set\", function () {",
											"    pm.expect(task.startedAt).to.not.be.null;",
											"});",
											"",
											"pm.test(\"‚úÖ completedAt is still null (async execution)\", function () {",
											"    pm.expect(task.completedAt).to.be.null;",
											"});",
											"",
											"pm.test(\"‚úÖ Timestamps chronology: createdAt < startedAt\", function () {",
											"    const created = new Date(task.createdAt);",
											"    const started = new Date(task.startedAt);",
											"    pm.expect(started.getTime()).to.be.above(created.getTime());",
											"});",
											"",
											"console.log(\"‚è≥ Task started - waiting for auto-completion (Mono background)\");",
											"console.log(\"‚è±Ô∏è  Expected completion time: ~6 seconds (2 drinks √ó 3 sec)\");"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PATCH",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/api/tasks/{{e2e_taskId}}/start",
									"host": ["{{baseUrl}}"],
									"path": ["api", "tasks", "{{e2e_taskId}}", "start"]
								}
							},
							"response": []
						},
						{
							"name": "4. Poll Task Status (Wait 8 sec)",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"// ‚è≥ Wait 8 seconds for Mono to auto-complete task",
											"console.log(\"‚è≥ Waiting 8 seconds for auto-completion...\");",
											"setTimeout(() => {}, 8000);"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"// üìä HU-003: Validar auto-completado",
											"pm.test(\"‚úÖ Status 200 - Task retrieved\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"const tasks = pm.response.json();",
											"const taskId = pm.collectionVariables.get('e2e_taskId');",
											"const task = tasks.find(t => t.id === parseInt(taskId));",
											"",
											"pm.test(\"‚úÖ Task found by ID\", function () {",
											"    pm.expect(task).to.not.be.undefined;",
											"});",
											"",
											"if (task) {",
											"    pm.test(\"‚úÖ Task auto-completed (status = COMPLETED)\", function () {",
											"        pm.expect(task.status).to.eql('COMPLETED');",
											"    });",
											"    ",
											"    pm.test(\"‚úÖ completedAt timestamp is set\", function () {",
											"        pm.expect(task.completedAt).to.not.be.null;",
											"    });",
											"    ",
											"    pm.test(\"‚úÖ All timestamps present\", function () {",
											"        pm.expect(task.createdAt).to.not.be.null;",
											"        pm.expect(task.startedAt).to.not.be.null;",
											"        pm.expect(task.completedAt).to.not.be.null;",
											"    });",
											"    ",
											"    pm.test(\"‚úÖ Timestamps chronology: created < started < completed\", function () {",
											"        const created = new Date(task.createdAt).getTime();",
											"        const started = new Date(task.startedAt).getTime();",
											"        const completed = new Date(task.completedAt).getTime();",
											"        ",
											"        pm.expect(started).to.be.above(created);",
											"        pm.expect(completed).to.be.above(started);",
											"    });",
											"    ",
											"    console.log(\"‚úÖ Task auto-completed successfully by Mono!\");",
											"}"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/api/tasks/station/BAR?status=COMPLETED",
									"host": ["{{baseUrl}}"],
									"path": ["api", "tasks", "station", "BAR"],
									"query": [
										{"key": "status", "value": "COMPLETED"}
									]
								}
							},
							"response": []
						},
						{
							"name": "5. Get Order Status (Partial)",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"// üìä HU-003: Estado del pedido (parcial)",
											"pm.test(\"‚úÖ Status 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"const response = pm.response.json();",
											"",
											"pm.test(\"‚úÖ Order still IN_PREPARATION (other tasks pending)\", function () {",
											"    // BAR completada, pero HOT_KITCHEN y COLD_KITCHEN a√∫n pendientes",
											"    pm.expect(response.status).to.be.oneOf(['IN_PREPARATION', 'PENDING']);",
											"});",
											"",
											"console.log(\"üìä Order status:\", response.status);",
											"console.log(\"‚ÑπÔ∏è  BAR task completed, but HOT_KITCHEN and COLD_KITCHEN still pending\");"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/api/orders/{{e2e_orderId}}/status",
									"host": ["{{baseUrl}}"],
									"path": ["api", "orders", "{{e2e_orderId}}", "status"]
								}
							},
							"response": []
						}
					],
					"description": "Flujo completo End-to-End que valida:\n- HU-001: Crear pedido\n- HU-002: Consultar tareas por estaci√≥n\n- HU-003: Iniciar preparaci√≥n y auto-completado\n\n**Tiempo de ejecuci√≥n:** ~10 segundos\n**Validaciones:** 25+ tests"
				}
			],
			"description": "Flujos End-to-End que validan las Historias de Usuario completas"
		},
		{
			"name": "üì¶ Orders API",
			"item": [
				{
					"name": "Create Order - Mixed Products",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"‚úÖ Status 201 Created\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"const response = pm.response.json();",
									"",
									"pm.test(\"‚úÖ Response structure\", function () {",
									"    pm.expect(response).to.have.property('tableNumber');",
									"    pm.expect(response).to.have.property('tasksCreated');",
									"    pm.expect(response).to.have.property('message');",
									"});",
									"",
									"pm.test(\"‚úÖ 3 tasks created\", function () {",
									"    pm.expect(response.tasksCreated).to.eql(3);",
									"});",
									"",
									"pm.test(\"‚úÖ Success message\", function () {",
									"    pm.expect(response.message).to.include('successfully');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"tableNumber\": \"A1\",\n    \"products\": [\n        {\"name\": \"Pizza Margherita\", \"type\": \"HOT_DISH\"},\n        {\"name\": \"Coca Cola\", \"type\": \"DRINK\"},\n        {\"name\": \"Caesar Salad\", \"type\": \"COLD_DISH\"}\n    ]\n}",
							"options": {"raw": {"language": "json"}}
						},
						"url": {
							"raw": "{{baseUrl}}/api/orders",
							"host": ["{{baseUrl}}"],
							"path": ["api", "orders"]
						}
					},
					"response": []
				},
				{
					"name": "Create Order - Only Drinks",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"‚úÖ Status 201\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"pm.test(\"‚úÖ Only 1 task (BAR)\", function () {",
									"    pm.expect(pm.response.json().tasksCreated).to.eql(1);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"tableNumber\": \"B5\",\n    \"products\": [\n        {\"name\": \"Coca Cola\", \"type\": \"DRINK\"},\n        {\"name\": \"Orange Juice\", \"type\": \"DRINK\"}\n    ]\n}",
							"options": {"raw": {"language": "json"}}
						},
						"url": {
							"raw": "{{baseUrl}}/api/orders",
							"host": ["{{baseUrl}}"],
							"path": ["api", "orders"]
						}
					},
					"response": []
				},
				{
					"name": "Get Order Status",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"‚úÖ Status 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"const response = pm.response.json();",
									"",
									"pm.test(\"‚úÖ Has orderId and status\", function () {",
									"    pm.expect(response).to.have.property('orderId');",
									"    pm.expect(response).to.have.property('status');",
									"});",
									"",
									"pm.test(\"‚úÖ Valid status enum\", function () {",
									"    pm.expect(response.status).to.be.oneOf(['PENDING', 'IN_PREPARATION', 'COMPLETED']);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/orders/{{orderId}}/status",
							"host": ["{{baseUrl}}"],
							"path": ["api", "orders", "{{orderId}}", "status"]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "üçΩÔ∏è Tasks API",
			"item": [
				{
					"name": "Get Tasks - BAR Station",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"‚úÖ Status 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"const tasks = pm.response.json();",
									"",
									"pm.test(\"‚úÖ Response is array\", function () {",
									"    pm.expect(tasks).to.be.an('array');",
									"});",
									"",
									"if (tasks.length > 0) {",
									"    pm.test(\"‚úÖ All tasks are BAR\", function () {",
									"        tasks.forEach(t => pm.expect(t.station).to.eql('BAR'));",
									"    });",
									"    ",
									"    pm.test(\"‚úÖ Required fields present\", function () {",
									"        const task = tasks[0];",
									"        pm.expect(task).to.have.property('id');",
									"        pm.expect(task).to.have.property('orderId');",
									"        pm.expect(task).to.have.property('station');",
									"        pm.expect(task).to.have.property('products');",
									"        pm.expect(task).to.have.property('status');",
									"    });",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/tasks/station/BAR",
							"host": ["{{baseUrl}}"],
							"path": ["api", "tasks", "station", "BAR"]
						}
					},
					"response": []
				},
				{
					"name": "Get Tasks - HOT_KITCHEN",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/tasks/station/HOT_KITCHEN",
							"host": ["{{baseUrl}}"],
							"path": ["api", "tasks", "station", "HOT_KITCHEN"]
						}
					},
					"response": []
				},
				{
					"name": "Get Tasks - COLD_KITCHEN",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/tasks/station/COLD_KITCHEN",
							"host": ["{{baseUrl}}"],
							"path": ["api", "tasks", "station", "COLD_KITCHEN"]
						}
					},
					"response": []
				},
				{
					"name": "Start Task Preparation",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"‚úÖ Status 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"const task = pm.response.json();",
									"",
									"pm.test(\"‚úÖ Status = IN_PREPARATION\", function () {",
									"    pm.expect(task.status).to.eql('IN_PREPARATION');",
									"});",
									"",
									"pm.test(\"‚úÖ startedAt timestamp set\", function () {",
									"    pm.expect(task.startedAt).to.not.be.null;",
									"});",
									"",
									"console.log(\"‚è≥ Task started - will auto-complete in background (Mono)\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PATCH",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/tasks/{{taskId}}/start",
							"host": ["{{baseUrl}}"],
							"path": ["api", "tasks", "{{taskId}}", "start"]
						},
						"description": "Inicia preparaci√≥n de tarea.\n\n**‚ö†Ô∏è Comportamiento As√≠ncrono:**\n- Retorna inmediatamente con status IN_PREPARATION\n- Comando se ejecuta en background con Mono\n- Tarea se auto-completa cuando termina ejecuci√≥n\n- Use polling (GET tasks) para verificar completado"
					},
					"response": []
				},
				{
					"name": "Complete Task Manually (Exception)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"‚úÖ Status 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"const task = pm.response.json();",
									"",
									"pm.test(\"‚úÖ Status = COMPLETED\", function () {",
									"    pm.expect(task.status).to.eql('COMPLETED');",
									"});",
									"",
									"pm.test(\"‚úÖ completedAt set\", function () {",
									"    pm.expect(task.completedAt).to.not.be.null;",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PATCH",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/tasks/{{taskId}}/complete",
							"host": ["{{baseUrl}}"],
							"path": ["api", "tasks", "{{taskId}}", "complete"]
						},
						"description": "**‚ö†Ô∏è Uso Excepcional - Completado Manual**\n\nEste endpoint NO se usa en flujo normal (tareas auto-completan).\n\n**Casos de uso v√°lidos:**\n- Correcci√≥n manual si comando fall√≥\n- Override de supervisor\n- Testing/Debug\n- Recuperaci√≥n de errores del sistema\n\n**Flujo normal:** Task auto-completa cuando comando termina"
					},
					"response": []
				}
			]
		},
		{
			"name": "‚ùå Negative Tests",
			"item": [
				{
					"name": "Order - Empty Products",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"‚úÖ Status 400 Bad Request\", function () {",
									"    pm.response.to.have.status(400);",
									"});",
									"",
									"const error = pm.response.json();",
									"",
									"pm.test(\"‚úÖ Error structure\", function () {",
									"    pm.expect(error).to.have.property('status');",
									"    pm.expect(error).to.have.property('message');",
									"});",
									"",
									"pm.test(\"‚úÖ Error mentions products\", function () {",
									"    pm.expect(error.message.toLowerCase()).to.include('product');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"tableNumber\": \"ERROR1\",\n    \"products\": []\n}",
							"options": {"raw": {"language": "json"}}
						},
						"url": {
							"raw": "{{baseUrl}}/api/orders",
							"host": ["{{baseUrl}}"],
							"path": ["api", "orders"]
						}
					},
					"response": []
				},
				{
					"name": "Order - Empty Table Number",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"‚úÖ Status 400\", function () {",
									"    pm.response.to.have.status(400);",
									"});",
									"",
									"pm.test(\"‚úÖ Error mentions table\", function () {",
									"    const error = pm.response.json();",
									"    pm.expect(error.message.toLowerCase()).to.match(/table|mesa/);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"tableNumber\": \"\",\n    \"products\": [\n        {\"name\": \"Coca Cola\", \"type\": \"DRINK\"}\n    ]\n}",
							"options": {"raw": {"language": "json"}}
						},
						"url": {
							"raw": "{{baseUrl}}/api/orders",
							"host": ["{{baseUrl}}"],
							"path": ["api", "orders"]
						}
					},
					"response": []
				},
				{
					"name": "Task - Start Already Started",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"// NOTE: Este test requiere taskId de tarea ya iniciada",
									"// Ejecutar despu√©s de \"Start Task Preparation\""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"‚úÖ Status 400 or 409 (conflict)\", function () {",
									"    pm.expect(pm.response.code).to.be.oneOf([400, 409]);",
									"});",
									"",
									"pm.test(\"‚úÖ Error about state\", function () {",
									"    const error = pm.response.json();",
									"    pm.expect(error.message.toLowerCase()).to.match(/pending|state|status/);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PATCH",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/tasks/{{e2e_taskId}}/start",
							"host": ["{{baseUrl}}"],
							"path": ["api", "tasks", "{{e2e_taskId}}", "start"]
						},
						"description": "Intenta iniciar tarea que ya est√° IN_PREPARATION"
					},
					"response": []
				},
				{
					"name": "Order Status - Non-existent ID",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"‚úÖ Status 404 Not Found\", function () {",
									"    pm.response.to.have.status(404);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/orders/999999/status",
							"host": ["{{baseUrl}}"],
							"path": ["api", "orders", "999999", "status"]
						}
					},
					"response": []
				}
			],
			"description": "Tests de validaci√≥n negativa (error handling)"
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					"console.log('üöÄ Request:', pm.request.method, pm.request.url.toString());",
					"",
					"if (!pm.collectionVariables.get('baseUrl')) {",
					"    pm.collectionVariables.set('baseUrl', 'http://localhost:8080');",
					"}"
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					"console.log('‚úÖ', pm.response.status, pm.response.code, '-', pm.response.responseTime, 'ms');",
					"",
					"pm.test(\"[GLOBAL] Response time < 3s\", function () {",
					"    pm.expect(pm.response.responseTime).to.be.below(3000);",
					"});",
					"",
					"if (pm.response.code !== 404 && pm.response.code !== 400) {",
					"    pm.test(\"[GLOBAL] Content-Type is JSON\", function () {",
					"        pm.expect(pm.response.headers.get('Content-Type')).to.include('json');",
					"    });",
					"}"
				]
			}
		}
	],
	"variable": [
		{"key": "baseUrl", "value": "http://localhost:8080", "type": "string"},
		{"key": "orderId", "value": "1", "type": "string"},
		{"key": "taskId", "value": "1", "type": "string"},
		{"key": "e2e_tableNumber", "value": "", "type": "string"},
		{"key": "e2e_taskId", "value": "", "type": "string"},
		{"key": "e2e_orderId", "value": "", "type": "string"}
	]
}